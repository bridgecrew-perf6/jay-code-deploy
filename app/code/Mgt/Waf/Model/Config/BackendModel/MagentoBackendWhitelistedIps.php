<?php
 namespace Mgt\Waf\Model\Config\BackendModel; use Mgt\Waf\Model\Config\BackendModel\Value as ConfigValue; use Mgt\Waf\Model\Aws\Waf as AwsWaf; class MagentoBackendWhitelistedIps extends ConfigValue { protected function _afterLoad() { goto E75d9; c3d52: ea66d: goto f5616; e6835: $this->setValue($value); goto Dcec0; ee08c: $magentoBackendWhitelistedIpv4 = $awsWaf->getIpAddressesForIpSet(AwsWaf::IP_SET_MAGENTO_BACKEND_WHITELISTED_IPV4); goto f071f; A58db: c62b3: goto e6835; b0afd: $awsAccessKey = $this->getAwsAccessKey(); goto Dedf3; E75d9: $sessionConfigData = $this->getSessionConfigData(); goto D2b1e; Dedf3: $projectName = $this->getProjectName(); goto cc704; a8dcb: $magentoBackendWhitelistedIpv6 = $awsWaf->getIpAddressesForIpSet(AwsWaf::IP_SET_MAGENTO_BACKEND_WHITELISTED_IPV6); goto affe9; A6847: foreach ($magentoBackendWhitelistedIpv6 as $ip) { goto C059d; C059d: if (!(substr($ip, -4) == "\x2f\61\x32\70")) { goto Ea250; } goto d56ca; bf5d4: Ea250: goto ac9ea; ac9ea: Bd632: goto B8775; d56ca: $whitelistedIps[] = substr($ip, 0, -4); goto bf5d4; B8775: } goto e8702; aa730: b93d8: goto F4707; fe205: a8b2f: goto ce8e2; d7f0c: $whitelistedIps = []; goto e09bd; f071f: if (!(false === empty($magentoBackendWhitelistedIpv4))) { goto f1fc1; } goto Bcc69; Bcc69: foreach ($magentoBackendWhitelistedIpv4 as $ip) { goto Bb9b5; Bb9b5: if (!(substr($ip, -3) == "\x2f\63\62")) { goto B5282; } goto fdc0f; E1a0b: e08d3: goto A1cbd; fdc0f: $whitelistedIps[] = substr($ip, 0, -3); goto bbbab; bbbab: B5282: goto E1a0b; A1cbd: } goto fe205; affe9: if (!(false === empty($magentoBackendWhitelistedIpv6))) { goto Fa63e; } goto A6847; e09bd: $awsWaf = new AwsWaf($awsAccessKey, $awsSecretAccessKey, $awsRegion, $projectName); goto ee08c; c3582: $value = implode(PHP_EOL, $whitelistedIps); goto aa730; f5616: $value = $sessionConfigData["\x67\162\157\165\x70\x73"]["\155\x61\147\x65\x6e\164\157\137\142\x61\x63\153\145\156\144"]["\x66\x69\x65\x6c\x64\163"]["\167\x68\x69\x74\x65\x6c\x69\x73\x74\x65\x64\137\151\x70\x73"]["\x76\141\x6c\165\x65"]; goto A58db; D5133: if (true === isset($sessionConfigData["\x67\162\x6f\x75\x70\163"]["\155\x61\147\x65\x6e\164\x6f\137\142\x61\143\x6b\145\156\144"]["\146\x69\x65\x6c\144\163"]["\167\150\x69\164\x65\154\x69\x73\164\145\144\x5f\151\x70\163"]["\166\x61\154\x75\145"])) { goto ea66d; } goto b0afd; e8702: B7497: goto C1797; cc704: if (!(false === empty($awsAccessKey) && false === empty($projectName))) { goto b93d8; } goto A245d; e2fd6: $awsRegion = $this->getAwsRegion(); goto d7f0c; D2b1e: $value = ''; goto D5133; C1797: Fa63e: goto c3582; A245d: $awsSecretAccessKey = $this->getAwsSecretAccessKey(); goto e2fd6; F4707: goto c62b3; goto c3d52; ce8e2: f1fc1: goto a8dcb; Dcec0: } }
